<!doctype html>
<html>
<head><meta charset="utf-8"><title>To-Do</title></head>
<body>
  <h1>To-Do v1.1.0</h1>
  <input id="title" placeholder="Nueva tarea"><button onclick="add()">Agregar</button>
  <ul id="list"></ul>
<script>
async function load(){
  const r=await fetch('/api/tasks'); const data=await r.json();
  const ul=document.getElementById('list'); ul.innerHTML='';
  data.forEach(t=>{
    const li=document.createElement('li');
    li.textContent=`#${t.id} ${t.title} ${t.done?'✅':'⏳'}`;
    ul.appendChild(li);
  });
}
async function add(){
  const title=document.getElementById('title').value;
  if(!title) return;
  await fetch('/api/tasks',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({title})});
  document.getElementById('title').value=''; load();
}
load();
</script>
</body></html>
